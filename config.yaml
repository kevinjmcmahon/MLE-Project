# This is now a simple custom job, not a hyperparameter tuning job.
displayName: dog-breed-smoke-test
jobSpec:
  workerPoolSpecs:
  - machineSpec:
      machineType: n1-standard-4
      acceleratorType: NVIDIA_TESLA_T4
      acceleratorCount: 1
    replicaCount: 1
    containerSpec:
      # We use the same image as before
      imageUri: us-central1-docker.pkg.dev/red-context-466220-s0/dog-breed-repo/mle-dog-classifier:d243c21
      # We provide hardcoded args instead of letting the service choose them
      args: [
        "--fine_tune_lr=0.0001",
        "--dropout_rate=0.35",
        "--unfreeze_layers=50",
        "--head_epochs=5",      # Run for fewer epochs to finish faster
        "--fine_tune_epochs=5"  # Run for fewer epochs to finish faster
      ]